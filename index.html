<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Star Follower</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  </head>
  <body style="margin:0; padding:0; overflow:hidden;">
    <script>
      let starX, starY;

      function setup() {
        createCanvas(1600, 1000);
        // noCursor(); // можно убрать, чтобы видеть системный курсор
        starX = width / 2;
        starY = height / 2;
      }

      function draw() {
        // рисуем фон с прозрачностью вместо полного очиста → шлейф
        background(0, 40); // 0 = чёрный, 40 = уровень прозрачности (чем меньше, тем длиннее след)

        // плавное движение за курсором
        let easing = 0.07;
        starX += (mouseX - starX) * easing;
        starY += (mouseY - starY) * easing;

        fill(255);
        noStroke();
        drawStar(starX, starY, 30, 70, 5);
      }

      // рисуем звезду
      function drawStar(x, y, radius1, radius2, npoints) {
        let angle = TWO_PI / npoints;
        let halfAngle = angle / 2.0;
        beginShape();
        for (let a = 0; a < TWO_PI; a += angle) {
          let sx = x + cos(a) * radius2;
          let sy = y + sin(a) * radius2;
          vertex(sx, sy);
          sx = x + cos(a + halfAngle) * radius1;
          sy = y + sin(a + halfAngle) * radius1;
          vertex(sx, sy);
        }
        endShape(CLOSE);
      }
    </script>
  </body>
</html>
